import{d as b,r as v,c as D,a as h,F as k,b as e,V as I,w as t,e as R,u as B,o as w,f as z,g as d,t as g,h as n,i as o,j as x,k as _,l as y,m as F,n as V,p as M,q as A,s as P,v as U,x as $,y as L,z as O,A as T,B as q}from"./index-CaBEtMt9.js";import{u as E}from"./useUserInfo-BjA-Fyi7.js";import{l as H}from"./dukanet-icon-DWl2csPk.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const W={class:"w-100 position-relative pa-2 d-flex align-center justify-center"},Y={class:"text-caption text-onSurfaceVariant"},G={class:"text-h6 barlow pa-2 text-onSurfaceVariant"},J={class:"text-onBackground fill-height d-flex align-center justify-center"},K=b({__name:"DefaultAppbar",setup(N){const{avatarUrl:r,email:u,fullName:m,hasBusinessProfile:s}=E(),{notify:p}=L(),S=B(),l=v(!1),c=v(!1),C=D(()=>{var i;return((i=m.value)==null?void 0:i.split(" ")[0])??""}),j=async()=>{c.value=!0;const{error:i}=await $.auth.signOut();i?p({message:"We couldn't sign you out. Please try again.",color:"error"}):S.push("/auth"),c.value=!1};return(i,a)=>(w(),h(k,null,[e(I,{color:"surfaceVariant",modelValue:l.value,"onUpdate:modelValue":a[1]||(a[1]=f=>l.value=f),location:"right",temporary:""},{default:t(()=>[e(z,{color:"surfaceVariant",class:"d-flex flex-column align-center"},{default:t(()=>[d("div",W,[d("div",Y,g(n(u)),1),e(o,{icon:"mdi-close",variant:"text",size:"x-small",color:"onSurfaceVariant",onClick:a[0]||(a[0]=x(f=>l.value=!l.value,["stop"])),class:"position-absolute right-0"})]),e(_,{color:"primary"},{default:t(()=>[e(y,{src:n(r)},null,8,["src"])]),_:1}),d("div",G,"Hi, "+g(C.value)+"!",1),e(F,null,{default:t(()=>[e(o,{"prepend-icon":"mdi-storefront-outline",text:n(s)?"Manage your business":"Add your business",class:"text-none justify-start rounded-t-xl rounded-b-0",color:"surface",variant:"flat",block:"",to:n(s)?"/business/manage-profile":"/business/create-profile",loading:n(s)===null},null,8,["text","to","loading"]),e(V),e(o,{"prepend-icon":"mdi-bookmark-outline",text:"Your saved items",class:"text-none justify-start rounded-0",color:"surface",variant:"flat",block:""}),e(V),e(o,{"prepend-icon":"mdi-logout",text:"Logout",class:"text-none justify-start rounded-b-xl rounded-t-0",color:"surface",variant:"flat",block:"",onClick:j,loading:c.value,disabled:c.value},null,8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(R,{density:"compact",elevation:"0","scroll-behavior":"hide",extended:""},{prepend:t(()=>[e(U,{variant:"plain",color:"onBackground",density:"comfortable"})]),title:t(()=>[d("div",J,[e(P,{size:"small",class:"mx-2"},{default:t(()=>[e(H)]),_:1}),a[3]||(a[3]=A(" dukanet "))])]),append:t(()=>[e(o,{icon:"mdi-bell-outline",color:"onBackground",density:"comfortable",variant:"plain"}),e(o,{icon:"",density:"comfortable",onClick:a[2]||(a[2]=x(f=>l.value=!l.value,["stop"]))},{default:t(()=>[e(_,{color:"primary",size:"x-small"},{default:t(()=>[e(y,{src:n(r)},null,8,["src"])]),_:1})]),_:1})]),extension:t(()=>[e(M,{class:"px-4 pt-4",density:"compact","menu-icon":"",placeholder:"Search for Products","auto-select-first":"",rounded:"",variant:"outlined",color:"primary"},{"append-inner":t(()=>[e(o,{variant:"text",color:"primary",icon:"mdi-magnify",density:"compact"})]),_:1})]),_:1})],64))}}),te=b({__name:"DefaultLayout",setup(N){const r=B(),u=localStorage.getItem("postAuthRedirect");return u?(localStorage.removeItem("postAuthRedirect"),r.replace(u)):r.replace("/"),(m,s)=>{const p=q("RouterView");return w(),h(k,null,[e(K),e(O,null,{default:t(()=>[e(p)]),_:1}),e(T,null,{default:t(()=>s[0]||(s[0]=[A(" This is a footer ")])),_:1,__:[0]})],64)}}});export{te as default};
