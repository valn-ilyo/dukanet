import{r as n,c as u,x as t}from"./index-CaBEtMt9.js";const s=n(null),r=n(null);t.auth.getSession().then(async({data:e})=>{var a;s.value=((a=e.session)==null?void 0:a.user)??null,s.value&&await c()});t.auth.onAuthStateChange(async(e,a)=>{s.value=(a==null?void 0:a.user)??null});async function c(){var l;const{data:e,error:a}=await t.from("businesses").select("id").eq("id",(l=s.value)==null?void 0:l.id).maybeSingle();r.value=!!e&&!a}const i=u(()=>{var e,a;return((a=(e=s.value)==null?void 0:e.user_metadata)==null?void 0:a.avatar_url)??null}),o=u(()=>{var e,a;return((a=(e=s.value)==null?void 0:e.user_metadata)==null?void 0:a.email)??null}),f=u(()=>{var e,a;return((a=(e=s.value)==null?void 0:e.user_metadata)==null?void 0:a.full_name)??null});function v(){return{avatarUrl:i,email:o,fullName:f,hasBusinessProfile:r,refreshBusinessStatus:c}}export{v as u};
