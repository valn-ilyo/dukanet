import{d as b,r as v,c as j,a as h,F as k,b as e,V as D,w as t,e as I,u as w,o as B,f as R,g as c,t as g,h as f,i as o,j as x,k as _,l as V,m as z,n as y,p as F,q as A,s as U,v as $,x as L,y as M,z as O,A as P,B as T}from"./index-C_cXfRXI.js";import{u as q}from"./useUserInfo-Bq1Z5vHv.js";import{l as E}from"./dukanet-icon-C1uSMhnC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const H={class:"w-100 position-relative pa-2 d-flex align-center justify-center"},W={class:"text-caption text-onSurfaceVariant"},Y={class:"text-h6 barlow pa-2 text-onSurfaceVariant"},G={class:"text-onBackground fill-height d-flex align-center justify-center"},J=b({__name:"DefaultAppbar",setup(N){const{avatarUrl:r,email:n,fullName:m}=q(),{notify:i}=M(),d=w(),s=v(!1),u=v(!1),S=j(()=>{var l;return((l=m.value)==null?void 0:l.split(" ")[0])??""}),C=async()=>{u.value=!0;const{error:l}=await L.auth.signOut();l?i({message:"We couldn't sign you out. Please try again.",color:"error"}):d.push("/auth"),u.value=!1};return(l,a)=>(B(),h(k,null,[e(D,{color:"surfaceVariant",modelValue:s.value,"onUpdate:modelValue":a[1]||(a[1]=p=>s.value=p),location:"right",temporary:""},{default:t(()=>[e(R,{color:"surfaceVariant",class:"d-flex flex-column align-center"},{default:t(()=>[c("div",H,[c("div",W,g(f(n)),1),e(o,{icon:"mdi-close",variant:"text",size:"x-small",color:"onSurfaceVariant",onClick:a[0]||(a[0]=x(p=>s.value=!s.value,["stop"])),class:"position-absolute right-0"})]),e(_,{color:"primary"},{default:t(()=>[e(V,{src:f(r)},null,8,["src"])]),_:1}),c("div",Y,"Hi, "+g(S.value)+"!",1),e(z,null,{default:t(()=>[e(o,{"prepend-icon":"mdi-storefront-outline",text:"Add your business",class:"text-none justify-start rounded-t-xl rounded-b-0",color:"surface",variant:"flat",block:"",to:"/business"}),e(y),e(o,{"prepend-icon":"mdi-bookmark-outline",text:"Your saved items",class:"text-none justify-start rounded-0",color:"surface",variant:"flat",block:""}),e(y),e(o,{"prepend-icon":"mdi-logout",text:"Logout",class:"text-none justify-start rounded-b-xl rounded-t-0",color:"surface",variant:"flat",block:"",onClick:C,loading:u.value,disabled:u.value},null,8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(I,{density:"compact",elevation:"0","scroll-behavior":"hide",extended:""},{prepend:t(()=>[e($,{variant:"plain",color:"onBackground",density:"comfortable"})]),title:t(()=>[c("div",G,[e(U,{size:"small",class:"mx-2"},{default:t(()=>[e(E)]),_:1}),a[3]||(a[3]=A(" dukanet "))])]),append:t(()=>[e(o,{icon:"mdi-bell-outline",color:"onBackground",density:"comfortable",variant:"plain"}),e(o,{icon:"",density:"comfortable",onClick:a[2]||(a[2]=x(p=>s.value=!s.value,["stop"]))},{default:t(()=>[e(_,{color:"primary",size:"x-small"},{default:t(()=>[e(V,{src:f(r)},null,8,["src"])]),_:1})]),_:1})]),extension:t(()=>[e(F,{class:"px-4 pt-4",density:"compact","menu-icon":"",placeholder:"Search for Products","auto-select-first":"",rounded:"",variant:"outlined",color:"primary"},{"append-inner":t(()=>[e(o,{variant:"text",color:"primary",icon:"mdi-magnify",density:"compact"})]),_:1})]),_:1})],64))}}),ee=b({__name:"DefaultLayout",setup(N){const r=w(),n=localStorage.getItem("postAuthRedirect");return n?(localStorage.removeItem("postAuthRedirect"),r.replace(n)):r.replace("/"),(m,i)=>{const d=T("RouterView");return B(),h(k,null,[e(J),e(O,null,{default:t(()=>[e(d)]),_:1}),e(P,null,{default:t(()=>i[0]||(i[0]=[A(" This is a footer ")])),_:1,__:[0]})],64)}}});export{ee as default};
